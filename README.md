# Todo Task Flutter App

## Setup Instructions
1. **Prerequisites**
   - Flutter SDK (>=3.2.0 <4.0.0)
   - Android SDK with API level 34 (or higher)
   - Xcode (if building for iOS)
2. **Clone the repository**
   ```bash
   git clone <repo-url>
   cd todo_task
   ```
3. **Install dependencies**
   ```bash
   flutter pub get
   ```
4. **Run the app**
   ```bash
   flutter run
   ```
   - Choose a connected device or an emulator.
   - For Android, ensure `multidex` is enabled (already configured in `android/app/build.gradle`).

## Assumptions & Design Decisions
- **State Management**: The app uses the **BLoC (Business Logic Component)** pattern via `flutter_bloc`. This keeps UI widgets dumb and delegates all business logic to the `TaskBloc`.
- **Offline Support**: Tasks are persisted locally using **sqflite**. When the device is offline, the app reads/writes to the local SQLite database. Sync logic (e.g., with a remote server) can be added later without changing UI code.
- **Multidex**: Enabled to avoid the 64K method limit on older Android devices.
- **Connectivity**: `connectivity_plus` is used to detect network changes and toggle offline/online UI states.

## BLoC Pattern Implementation
- **Events (`task_event.dart`)**: Define user actions such as `LoadTasks`, `AddTask`, `UpdateTask`, `DeleteTask`.
- **State (`task_state.dart`)**: Represents UI states – `TaskInitial`, `TaskLoading`, `TaskLoaded`, `TaskError`.
- **Bloc (`task_bloc.dart`)**: Listens to events, interacts with `TaskRepository` (which abstracts sqflite operations), and emits new states.
- **Repository (`task_repository.dart`)**: Handles all data access – reads/writes to SQLite and could later be extended to call a remote API.
- **UI (`home_screen.dart`)**: Uses `BlocBuilder<TaskBloc, TaskState>` to rebuild when the task list changes.

## Challenges & Solutions
| Challenge | Solution |
|-----------|----------|
| **Dexing errors (`NullPointerException`)** during build | Updated `build.gradle` to use `androidx.multidex:multidex:2.0.1` and enabled `multiDexEnabled true` in the release build type. |
| **Inconsistent dependency versions** causing runtime crashes | Ran `flutter clean` and `flutter pub get` after updating dependencies; locked versions in `pubspec.yaml`. |
| **Offline data consistency** | Implemented a simple repository pattern that always writes to SQLite first. UI reacts to connectivity changes via `connectivity_plus`. |
| **State management boilerplate** | Leveraged `flutter_bloc` generators and kept events/state minimal to reduce boilerplate. |

## Offline Support Strategy
1. **Local Persistence**: All tasks are stored in an SQLite database (`sqflite`). The repository abstracts CRUD operations.
2. **Connectivity Detection**: `connectivity_plus` monitors network status. When offline, the UI shows a banner and disables any network‑only actions.
3. **Future Sync**: The repository is designed to allow a future sync layer (e.g., Firebase Firestore) without changing the BLoC or UI.

## Demo (Optional)
A short video demonstration is included in the `assets/demo.mp4` file (if time permits). To view it, run the app and navigate to the home screen – you will see task creation, editing, and deletion in action.

---
*Generated by Antigravity – your AI coding assistant.*
